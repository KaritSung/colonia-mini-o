import { Layout, Typography, Button, Space, Grid } from "antd";
import { useState } from "react";
import { Link } from "react-router-dom/cjs/react-router-dom.min";
import Swal from "sweetalert2";

const { Title, Text } = Typography;
const { Footer, Content } = Layout;

const TermAndConditionPage = ({ forwardPage }) => {
  const onFinish = (values) => {
    console.log("Success:", values);
    forwardPage();
  };

  const onFinishFailed = (errorInfo) => {
    console.log("Failed:", errorInfo);
  };

  const [isScrolledToEnd, setIsScrolledToEnd] = useState(false);

  // ตรวจสอบว่าผู้ใช้เลื่อนถึงจุดสุดท้ายของข้อความ
  const handleScroll = (e) => {
    const { scrollTop, clientHeight, scrollHeight } = e.target;
    // เงื่อนไขตรวจสอบว่าเลื่อนถึงจุดสิ้นสุดหรือยัง
    if (Math.ceil(scrollTop) + clientHeight >= scrollHeight) {
      console.log("Scrolled to the end");
      setIsScrolledToEnd(true); // เปิดใช้งานปุ่ม
    }
  };

  const handleAccept = () => {
    forwardPage();
  };
  return (
    <>
      <div style={{ textAlign: "center", marginBottom: "1rem" }}>
        <Text
          style={{
            fontSize: "24px",
            fontWeight: "bold",
            color: "#57734D",
          }}
        >
          เงื่อนไขและข้อตกลง
        </Text>
      </div>

      <div
        style={{
          maxHeight: "400px",
          overflowY: "auto",
          padding: "15px",
          border: "1px solid #ddd",
          borderRadius: "8px",
          backgroundColor: "#f9f9f9",
          marginTop: "15px",
          whiteSpace: "pre-line",
          borderColor: "#57734D",
        }}
        onScroll={handleScroll}
      >
        {/* ใส่ข้อความเงื่อนไขยาวๆ ที่นี่ */}
        ที่มหาวิทยาลัยเล็กๆ ในภาคเหนือ น้องอังเป็นหญิงสาวที่สดใสร่าเริง
        เธอเป็นที่รักของเพื่อนๆ
        ด้วยนิสัยขี้เล่นและรอยยิ้มที่เหมือนแสงแดดในวันฝนพรำ
        เธอมีแฟนหนุ่มชื่อเล้ง ทั้งสองเริ่มคบหากันตั้งแต่ปีแรกที่เข้ามหาวิทยาลัย
        ความสัมพันธ์ของพวกเขาดูเหมือนจะเป็นความรักที่ลงตัว
        ทั้งคู่มีความชอบเหมือนกัน ทั้งการเดินป่า อ่านหนังสือ และฟังเพลงอินดี้
        จนกระทั่งปีสาม เมื่อ "น้องผมแดง"
        นักศึกษาสาวหัวแดงสดใสจากคณะศิลปกรรมศาสตร์ย้ายเข้ามาใหม่
        เธอมีบุคลิกที่แตกต่างออกไปจากน้องอังอย่างสิ้นเชิง
        น้องผมแดงมีความมั่นใจและเสน่ห์ดึงดูดแบบลึกลับที่ยากจะต้านทาน
        เธอเก่งเรื่องศิลปะและชอบพูดเรื่องปรัชญาชีวิตที่ลึกซึ้งจนใครๆ ก็อยากฟัง
        จุดเริ่มต้นของความวุ่นวาย
        น้องผมแดงเริ่มสนิทกับเล้งในคลาสเรียนวิชาเลือกเดียวกัน
        พวกเขาคุยกันอย่างถูกคอ
        ทั้งเรื่องดนตรีแจ๊สและความฝันเกี่ยวกับการเดินทางรอบโลก
        เล้งรู้สึกว่ามีบางอย่างในตัวน้องผมแดงที่เขาไม่เคยพบในน้องอังมาก่อน
        ความน่าหลงใหลของน้องผมแดงทำให้เขาเผลอใช้เวลากับเธอมากขึ้นเรื่อยๆ
        น้องอังเริ่มสังเกตว่าเล้งดูเปลี่ยนไป เขาไม่ได้ใส่ใจเธอเหมือนเคย
        และหลายครั้งที่เธอเห็นเขาอยู่กับน้องผมแดง แม้เล้งจะบอกว่า "แค่เพื่อน"
        แต่ความรู้สึกของเธอบอกว่ามีบางอย่างผิดปกติ ความรู้สึกที่ซับซ้อน
        สำหรับน้องผมแดง เธอรู้ดีว่าเล้งมีแฟนแล้ว แต่ลึกๆ
        เธอก็เริ่มมีความรู้สึกดีๆ กับเขา เธอพยายามบอกตัวเองว่า "อย่าไปยุ่ง"
        แต่หัวใจกลับไม่ฟัง เล้งตกอยู่ในภาวะที่สับสน เขารู้ว่าน้องอังรักเขามาก
        แต่ในขณะเดียวกัน
        ความสนุกและความแปลกใหม่ที่เขาได้จากน้องผมแดงทำให้เขารู้สึกเป็นตัวของตัวเอง
        จุดพีค คืนหนึ่งที่เล้ง น้องอัง และน้องผมแดงบังเอิญเจอกันที่ร้านกาแฟเล็กๆ
        ใกล้มหาวิทยาลัย ความตึงเครียดปกคลุมในอากาศ
        น้องอังที่เก็บความสงสัยไว้นานเริ่มเปิดใจถามตรงๆ “เล้ง...
        เราไม่เหมือนเดิมแล้วใช่ไหม? หรือเธอมีใครอีกคน?” เล้งอ้ำอึ้ง
        น้องผมแดงตัดสินใจพูดขึ้น “พี่อัง... ผมแดงขอโทษนะคะ
        แต่ผมแดงไม่ได้ตั้งใจให้มันเป็นแบบนี้”
        คำสารภาพของน้องผมแดงทำให้น้องอังรู้สึกเหมือนโลกทั้งใบพังทลาย
        เธอไม่รู้จะโกรธใคร ระหว่างเล้งที่เปลี่ยนไป
        หรือผมแดงที่กล้าเข้ามาในพื้นที่ของเธอ บทสรุป หลังจากคืนนั้น
        ทั้งสามคนตัดสินใจนั่งพูดคุยกันอย่างจริงจัง เล้งยอมรับว่าเขายังรักน้องอัง
        แต่ในขณะเดียวกัน
        เขารู้สึกว่าความสัมพันธ์ของพวกเขาเริ่มจืดจางเพราะความเคยชิน
        และน้องผมแดงคือประกายไฟใหม่ที่ทำให้เขาตื่นเต้น น้องอังร้องไห้หนักมาก
        แต่ในที่สุดเธอตัดสินใจยุติความสัมพันธ์กับเล้ง “บางครั้งความรักก็ไม่พอ
        ถ้ามันทำให้เราต้องเจ็บแบบนี้ ฉันขอเดินต่อไปคนเดียวดีกว่า”
        น้องผมแดงยอมถอยออกจากชีวิตเล้ง
        เพราะไม่อยากเป็นคนที่ทำลายความสัมพันธ์ของใคร
        เล้งที่เสียทั้งน้องอังและน้องผมแดงเรียนรู้บทเรียนสำคัญว่า
        ความรู้สึกชั่วคราวอาจไม่คุ้มกับการเสียคนที่รักคุณจริงๆ ไป สุดท้าย
        แม้จะไม่ได้ลงเอยอย่างสมบูรณ์แบบ
        แต่ทั้งสามคนได้เรียนรู้ที่จะเดินหน้าต่อไป
        และเก็บเรื่องราวนี้ไว้เป็นบทเรียนในหัวใจของพวกเขาเสมอ.
      </div>

      <Space
        direction="vertical"
        style={{
          display: "flex",
          marginTop: "3rem",
          textAlign: "center",
        }}
        size="large"
      >
        <Button
          type="primary"
          disabled={!isScrolledToEnd}
          onClick={handleAccept}
          style={{
            width: "100%",
            backgroundColor: "#57734D",
          }}
        >
          <Title level={5} style={{ color: "white", margin: 0 }}>
            ยอมรับเงื่อนไข
          </Title>
        </Button>

        <Button
          type="link"
          style={{
            color: "#57734D",
            fontSize: 20,
            opacity: 0.6,
            textAlign: "center",
          }}
        >
          <Link to="/sign-in" style={{ color: "#57734D" }}>
            กลับ
          </Link>
        </Button>
      </Space>
    </>
  );
};

export default TermAndConditionPage;
